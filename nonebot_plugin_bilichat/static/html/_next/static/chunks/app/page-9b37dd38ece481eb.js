(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{389:(e,i,s)=>{"use strict";s.r(i),s.d(i,{default:()=>eg});var n=s(5155),a=s(2115),t=s(2596),r=s(9688);function c(){for(var e=arguments.length,i=Array(e),s=0;s<e;s++)i[s]=arguments[s];return(0,r.QP)((0,t.$)(i))}function o(e){let{className:i,...s}=e;return(0,n.jsx)("div",{"data-slot":"card",className:c("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",i),...s})}function l(e){let{className:i,...s}=e;return(0,n.jsx)("div",{"data-slot":"card-header",className:c("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",i),...s})}function d(e){let{className:i,...s}=e;return(0,n.jsx)("div",{"data-slot":"card-title",className:c("leading-none font-semibold",i),...s})}function u(e){let{className:i,...s}=e;return(0,n.jsx)("div",{"data-slot":"card-description",className:c("text-muted-foreground text-sm",i),...s})}function g(e){let{className:i,...s}=e;return(0,n.jsx)("div",{"data-slot":"card-content",className:c("px-6",i),...s})}var m=s(9708),b=s(2085);let h=(0,b.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function f(e){let{className:i,variant:s,size:a,asChild:t=!1,...r}=e,o=t?m.DX:"button";return(0,n.jsx)(o,{"data-slot":"button",className:c(h({variant:s,size:a,className:i})),...r})}function x(e){let{className:i,type:s,...a}=e;return(0,n.jsx)("input",{type:s,"data-slot":"input",className:c("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",i),...a})}var p=s(968);function _(e){let{className:i,...s}=e;return(0,n.jsx)(p.b,{"data-slot":"label",className:c("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",i),...s})}var v=s(2098),y=s(3509),j=s(5525),N=s(9621),k=s(7863),C=s(6474),w=s(7835),P=s(4835),I=s(8611);function A(e){let{className:i,...s}=e;return(0,n.jsx)(I.bL,{"data-slot":"switch",className:c("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",i),...s,children:(0,n.jsx)(I.zi,{"data-slot":"switch-thumb",className:c("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}var E=s(8143);function S(e){let{className:i,...s}=e;return(0,n.jsx)(E.bL,{"data-slot":"tabs",className:c("flex flex-col gap-2",i),...s})}function Y(e){let{className:i,...s}=e;return(0,n.jsx)(E.B8,{"data-slot":"tabs-list",className:c("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",i),...s})}function T(e){let{className:i,...s}=e;return(0,n.jsx)(E.l9,{"data-slot":"tabs-trigger",className:c("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",i),...s})}function D(e){let{className:i,...s}=e;return(0,n.jsx)(E.UC,{"data-slot":"tabs-content",className:c("flex-1 outline-none",i),...s})}let U=(0,b.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function M(e){let{className:i,variant:s,asChild:a=!1,...t}=e,r=a?m.DX:"span";return(0,n.jsx)(r,{"data-slot":"badge",className:c(U({variant:s}),i),...t})}function O(e){let{className:i,...s}=e;return(0,n.jsx)("textarea",{"data-slot":"textarea",className:c("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",i),...s})}var z=s(1007),q=s(2525),R=s(4940),H=s(7580),W=s(4616),L=s(1154),B=s(5339),G=s(4229),K=s(381),F=s(5657),V=s(4213),J=s(3861),Q=s(3136);function X(e){let{fieldKey:i,label:s,description:a,children:t,disabled:r}=e,{t:c}=(0,Q.s)();return(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)(_,{htmlFor:i,className:r?"text-gray-500":"",children:[s," ",(0,n.jsxs)("span",{className:"text-xs text-gray-400 dark:text-gray-500 font-mono ml-2",children:["(",i,")"]})]}),a&&(0,n.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:a})]}),t,r&&(0,n.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:c("ui.readonly_field")})]})}let $=s(1890).env.NEXT_PUBLIC_API_BASE_URL||"",Z=()=>{let e=window.location.pathname.split("/").filter(Boolean);return e.length>0?"/".concat(e[0]):"/bilichatwebui"},ee=()=>localStorage.getItem("access_token"),ei=e=>{localStorage.setItem("access_token",e)},es=()=>{localStorage.removeItem("access_token")},en=async function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=ee(),n=new Headers(i.headers);n.set("Content-Type","application/json"),s&&n.set("Authorization","Bearer ".concat(s));let a=Z(),t=await fetch("".concat($).concat(a).concat(e),{...i,headers:n});return 401===t.status&&(es(),window.location.reload()),t},ea=async e=>{let i=await en("/auth/login",{method:"POST",body:JSON.stringify({code:e})});if(!i.ok)throw Error("Login failed: ".concat(i.statusText));return i.json()},et=async()=>{let e=await en("/auth/me");if(!e.ok)throw Error("Failed to get user info: ".concat(e.statusText));return e.json()},er=async()=>{let e=await en("/config");if(!e.ok)throw Error("Failed to get config: ".concat(e.statusText));return e.json()},ec=async e=>{let i=await en("/config",{method:"POST",body:JSON.stringify(e)});if(!i.ok)throw Error("Failed to save config: ".concat(i.statusText));return i.json()},eo=["DYNAMIC_TYPE_AD","DYNAMIC_TYPE_APPLET","DYNAMIC_TYPE_ARTICLE","DYNAMIC_TYPE_AV","DYNAMIC_TYPE_BANNER","DYNAMIC_TYPE_COMMON_SQUARE","DYNAMIC_TYPE_COMMON_VERTICAL","DYNAMIC_TYPE_COURSES","DYNAMIC_TYPE_COURSES_BATCH","DYNAMIC_TYPE_COURSES_SEASON","DYNAMIC_TYPE_DRAW","DYNAMIC_TYPE_FORWARD","DYNAMIC_TYPE_LIVE","DYNAMIC_TYPE_LIVE_RCMD","DYNAMIC_TYPE_MEDIALIST","DYNAMIC_TYPE_MUSIC","DYNAMIC_TYPE_NONE","DYNAMIC_TYPE_PGC","DYNAMIC_TYPE_SUBSCRIPTION","DYNAMIC_TYPE_SUBSCRIPTION_NEW","DYNAMIC_TYPE_UGC_SEASON","DYNAMIC_TYPE_WORD"];function el(e){let{subscribe:i,onSubscribeChange:s,onDeleteSubscribe:t,onSetAllDynamicTypes:r,onSetDefaultDynamicTypes:c}=e,{t:o}=(0,Q.s)(),[l,d]=(0,a.useState)(!1),u=(e,n)=>{s({...i,[e]:n})},g=(e,n)=>{s({...i,dynamic:{...i.dynamic,[e]:n}})},m=eo.reduce((e,s)=>{let n=i.dynamic[s];return"PUSH"===n?e.push++:"IGNORE"===n&&e.ignore++,e},{push:0,ignore:0});return(0,n.jsxs)("div",{className:"border rounded-lg p-4 bg-white dark:bg-gray-900 space-y-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("div",{className:"flex items-center gap-3",children:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(z.A,{className:"h-4 w-4 text-blue-600"}),(0,n.jsx)("span",{className:"font-medium",children:i.uname||o("ui.unknown_user")}),(0,n.jsxs)(M,{variant:"outline",className:"text-xs",children:["UID: ",i.uid]})]})}),(0,n.jsx)("div",{className:"flex items-center gap-2",children:(0,n.jsxs)(f,{variant:"ghost",size:"sm",onClick:t,className:"flex items-center gap-1 text-xs text-red-600 hover:text-red-700",children:[(0,n.jsx)(q.A,{className:"h-3 w-3"}),o("ui.delete")]})})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(_,{htmlFor:"uid-".concat(i.uid),className:"text-sm font-medium",children:o("ui.subscribe.uid")}),(0,n.jsx)(x,{id:"uid-".concat(i.uid),type:"number",value:i.uid,onChange:e=>u("uid",Number(e.target.value)),className:"mt-1"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(_,{htmlFor:"uname-".concat(i.uid),className:"text-sm font-medium",children:o("ui.subscribe.uname")}),(0,n.jsx)(x,{id:"uname-".concat(i.uid),value:i.uname,onChange:e=>u("uname",e.target.value),className:"mt-1"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(_,{htmlFor:"nickname-".concat(i.uid),className:"text-sm font-medium",children:o("ui.subscribe.nickname")}),(0,n.jsx)(x,{id:"nickname-".concat(i.uid),value:i.nickname,onChange:e=>u("nickname",e.target.value),placeholder:o("ui.optional"),className:"mt-1"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(_,{htmlFor:"note-".concat(i.uid),className:"text-sm font-medium",children:o("ui.subscribe.note")}),(0,n.jsx)(x,{id:"note-".concat(i.uid),value:i.note,onChange:e=>u("note",e.target.value),placeholder:o("ui.optional"),className:"mt-1"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(_,{className:"text-sm font-medium",children:o("ui.subscribe.live")}),(0,n.jsxs)("div",{className:"flex items-center justify-between text-sm border rounded p-3 mt-2 bg-gray-50 dark:bg-gray-800",children:[(0,n.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:o("ui.subscribe.live_notification")}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)(f,{variant:"PUSH"===i.live?"default":"outline",size:"sm",onClick:()=>u("live","PUSH"),className:"h-7 px-3 text-xs",children:o("ui.push")}),(0,n.jsx)(f,{variant:"IGNORE"===i.live?"default":"outline",size:"sm",onClick:()=>u("live","IGNORE"),className:"h-7 px-3 text-xs",children:o("ui.ignore")})]})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(_,{className:"text-sm font-medium",children:o("ui.subscribe.dynamic")}),(0,n.jsxs)("div",{className:"border rounded p-3 mt-2 bg-gray-50 dark:bg-gray-800 space-y-3",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:o("ui.subscribe.dynamic_notification")}),(0,n.jsxs)(M,{variant:"secondary",className:"text-xs",children:[m.push," ",o("ui.push")," / ",m.ignore," ",o("ui.ignore")]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(0,n.jsx)(f,{variant:"outline",size:"sm",onClick:()=>r("PUSH"),className:"h-7 px-2 text-xs",children:o("ui.enable_all")}),(0,n.jsx)(f,{variant:"outline",size:"sm",onClick:()=>r("IGNORE"),className:"h-7 px-2 text-xs",children:o("ui.disable_all")}),(0,n.jsx)(f,{variant:"outline",size:"sm",onClick:c,className:"h-7 px-2 text-xs",children:o("ui.default")}),(0,n.jsxs)(f,{variant:"ghost",size:"sm",onClick:()=>d(!l),className:"h-7 px-2 text-xs",children:[(0,n.jsx)(R.A,{className:"h-3 w-3 mr-1"}),l?o("ui.collapse"):o("ui.expand")]})]})]}),l&&(0,n.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 pt-2 border-t",children:eo.map(e=>(0,n.jsxs)("div",{className:"flex items-center justify-between text-xs border rounded p-2 bg-white dark:bg-gray-900",children:[(0,n.jsx)("span",{className:"text-gray-600 dark:text-gray-300 truncate mr-2",children:e.replace("DYNAMIC_TYPE_","")}),(0,n.jsxs)("div",{className:"flex gap-1",children:[(0,n.jsx)(f,{variant:"PUSH"===i.dynamic[e]?"default":"outline",size:"sm",onClick:()=>g(e,"PUSH"),className:"h-5 px-1 text-xs",children:o("ui.push")}),(0,n.jsx)(f,{variant:"IGNORE"===i.dynamic[e]?"default":"outline",size:"sm",onClick:()=>g(e,"IGNORE"),className:"h-5 px-1 text-xs",children:o("ui.ignore")})]})]},e))})]})]})]})}function ed(e){var i,s,a,t,r,c,o;let{userId:l,userConfig:d,onConfigChange:u,onDeleteUser:g}=e,{t:m}=(0,Q.s)(),b=(e,i)=>{let s=[...d.subscribes||[]];s[e]=i,u({...d,subscribes:s})},h=e=>{let i=(d.subscribes||[]).filter((i,s)=>s!==e);u({...d,subscribes:i})},x=(e,i)=>{let s=[...d.subscribes||[]],n={};eo.forEach(e=>{n[e]=i}),s[e]={...s[e],dynamic:n},u({...d,subscribes:s})},p=e=>{let i=[...d.subscribes||[]];i[e]={...i[e],dynamic:{DYNAMIC_TYPE_AD:"IGNORE",DYNAMIC_TYPE_APPLET:"PUSH",DYNAMIC_TYPE_ARTICLE:"PUSH",DYNAMIC_TYPE_AV:"PUSH",DYNAMIC_TYPE_BANNER:"IGNORE",DYNAMIC_TYPE_COMMON_SQUARE:"PUSH",DYNAMIC_TYPE_COMMON_VERTICAL:"PUSH",DYNAMIC_TYPE_COURSES:"PUSH",DYNAMIC_TYPE_COURSES_BATCH:"PUSH",DYNAMIC_TYPE_COURSES_SEASON:"PUSH",DYNAMIC_TYPE_DRAW:"PUSH",DYNAMIC_TYPE_FORWARD:"PUSH",DYNAMIC_TYPE_LIVE:"IGNORE",DYNAMIC_TYPE_LIVE_RCMD:"IGNORE",DYNAMIC_TYPE_MEDIALIST:"PUSH",DYNAMIC_TYPE_MUSIC:"PUSH",DYNAMIC_TYPE_NONE:"PUSH",DYNAMIC_TYPE_PGC:"PUSH",DYNAMIC_TYPE_SUBSCRIPTION:"PUSH",DYNAMIC_TYPE_SUBSCRIPTION_NEW:"PUSH",DYNAMIC_TYPE_UGC_SEASON:"PUSH",DYNAMIC_TYPE_WORD:"PUSH"}},u({...d,subscribes:i})};return(0,n.jsxs)("div",{className:"border rounded-lg p-4 bg-gray-50 dark:bg-gray-800/50 space-y-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("div",{className:"flex items-center gap-3",children:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(H.A,{className:"h-4 w-4 text-blue-600"}),(0,n.jsxs)(_,{className:"font-medium text-sm",children:[m("ui.user")," ",l]}),(0,n.jsx)(M,{variant:"outline",className:"text-xs",children:(null==d?void 0:null===(i=d.info)||void 0===i?void 0:i.adapter)||m("ui.unknown_adapter")}),(0,n.jsxs)(M,{variant:"secondary",className:"text-xs",children:[(null===(s=d.subscribes)||void 0===s?void 0:s.length)||0," ",m("ui.subscriptions")]})]})}),(0,n.jsx)("div",{className:"flex items-center gap-2",children:(0,n.jsxs)(f,{variant:"ghost",size:"sm",onClick:()=>g(l),className:"flex items-center gap-1 text-xs text-red-600 hover:text-red-700",children:[(0,n.jsx)(q.A,{className:"h-3 w-3"}),m("ui.delete_user")]})})]}),(0,n.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:(null==d?void 0:d.info)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("span",{className:"text-gray-500",children:[m("ui.adapter"),":"]}),(0,n.jsx)("div",{className:"font-medium",children:d.info.adapter})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("span",{className:"text-gray-500",children:[m("ui.scene"),":"]}),(0,n.jsx)("div",{className:"font-medium",children:(null===(a=d.info.scene)||void 0===a?void 0:a.name)||(null===(t=d.info.scene)||void 0===t?void 0:t.id)})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("span",{className:"text-gray-500",children:[m("ui.user"),":"]}),(0,n.jsx)("div",{className:"font-medium",children:(null===(r=d.info.user)||void 0===r?void 0:r.name)||(null===(c=d.info.user)||void 0===c?void 0:c.id)})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"text-gray-500",children:"Self ID:"}),(0,n.jsx)("div",{className:"font-medium",children:d.info.self_id})]})]})}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)(_,{className:"text-sm font-medium",children:m("ui.subscriptions")}),(0,n.jsxs)(f,{variant:"outline",size:"sm",onClick:()=>{u({...d,subscribes:[...d.subscribes||[],{uid:0,uname:"",nickname:"",note:"",dynamic:{DYNAMIC_TYPE_AD:"IGNORE",DYNAMIC_TYPE_APPLET:"PUSH",DYNAMIC_TYPE_ARTICLE:"PUSH",DYNAMIC_TYPE_AV:"PUSH",DYNAMIC_TYPE_BANNER:"IGNORE",DYNAMIC_TYPE_COMMON_SQUARE:"PUSH",DYNAMIC_TYPE_COMMON_VERTICAL:"PUSH",DYNAMIC_TYPE_COURSES:"PUSH",DYNAMIC_TYPE_COURSES_BATCH:"PUSH",DYNAMIC_TYPE_COURSES_SEASON:"PUSH",DYNAMIC_TYPE_DRAW:"PUSH",DYNAMIC_TYPE_FORWARD:"PUSH",DYNAMIC_TYPE_LIVE:"IGNORE",DYNAMIC_TYPE_LIVE_RCMD:"IGNORE",DYNAMIC_TYPE_MEDIALIST:"PUSH",DYNAMIC_TYPE_MUSIC:"PUSH",DYNAMIC_TYPE_NONE:"PUSH",DYNAMIC_TYPE_PGC:"PUSH",DYNAMIC_TYPE_SUBSCRIPTION:"PUSH",DYNAMIC_TYPE_SUBSCRIPTION_NEW:"PUSH",DYNAMIC_TYPE_UGC_SEASON:"PUSH",DYNAMIC_TYPE_WORD:"PUSH"},live:"PUSH"}]})},className:"flex items-center gap-1 text-xs",children:[(0,n.jsx)(W.A,{className:"h-3 w-3"}),m("ui.add_subscription")]})]}),(0,n.jsx)("div",{className:"space-y-3",children:(null===(o=d.subscribes)||void 0===o?void 0:o.length)!==0&&d.subscribes?d.subscribes.map((e,i)=>(0,n.jsx)(el,{subscribe:e,onSubscribeChange:e=>b(i,e),onDeleteSubscribe:()=>h(i),onSetAllDynamicTypes:e=>x(i,e),onSetDefaultDynamicTypes:()=>p(i)},"".concat(e.uid,"-").concat(i))):(0,n.jsxs)("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[(0,n.jsx)(H.A,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),(0,n.jsx)("p",{className:"text-sm",children:m("ui.no_subscriptions")})]})})]})]})}function eu(e){let{showSourceCode:i}=e,{t:s}=(0,Q.s)(),{config:t,isLoading:r,error:c,hasChanges:m,updateConfig:b,saveConfig:h}=function(){let[e,i]=(0,a.useState)(null),[s,n]=(0,a.useState)(!0),[t,r]=(0,a.useState)(null),[c,o]=(0,a.useState)(!1);(0,a.useEffect)(()=>{l()},[]);let l=async()=>{try{n(!0),r(null);let e=await er();i(e),o(!1)}catch(e){r(e instanceof Error?e.message:"Failed to load configuration")}finally{n(!1)}},d=async()=>{if(!e)return!1;try{r(null);let s=await ec(e);return i(s),o(!1),!0}catch(e){return r(e instanceof Error?e.message:"Failed to save configuration"),!1}};return{config:e,isLoading:s,error:t,hasChanges:c,updateConfig:(s,n)=>{if(!e)return;let a={...e},t=a;for(let e=0;e<s.length-1;e++)t=t[s[e]];t[s[s.length-1]]=n,i(a),o(!0)},saveConfig:d,reloadConfig:l}}(),p=e=>{t&&b(["api","request_api"],t.api.request_api.filter((i,s)=>s!==e))},v=(e,i,s)=>{if(!t)return;let n=[...t.api.request_api];n[e]={...n[e],[i]:s},b(["api","request_api"],n)},y=async()=>{await h()&&alert(s("ui.save_success"))};return r?(0,n.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)(L.A,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-blue-600"}),(0,n.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:s("ui.loading_config")})]})}):c?(0,n.jsx)(o,{className:"border-red-200 dark:border-red-800",children:(0,n.jsx)(g,{className:"pt-6",children:(0,n.jsxs)("div",{className:"flex items-center gap-2 text-red-600 dark:text-red-400",children:[(0,n.jsx)(B.A,{className:"h-5 w-5"}),(0,n.jsx)("p",{children:c})]})})}):t?(0,n.jsxs)("div",{className:"space-y-6",children:[m&&(0,n.jsx)("div",{className:"flex justify-end",children:(0,n.jsxs)(f,{onClick:y,className:"flex items-center gap-2",children:[(0,n.jsx)(G.A,{className:"h-4 w-4"}),s("ui.save_changes")]})}),i&&(0,n.jsxs)(o,{className:"mb-8",children:[(0,n.jsxs)(l,{children:[(0,n.jsxs)(d,{className:"flex items-center gap-2",children:[(0,n.jsx)(N.A,{className:"h-5 w-5"}),s("ui.source_title")]}),(0,n.jsx)(u,{children:s("ui.source_description")})]}),(0,n.jsx)(g,{children:(0,n.jsx)("pre",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg overflow-x-auto text-sm",children:(0,n.jsx)("code",{children:JSON.stringify(t,null,2)})})})]}),(0,n.jsxs)(S,{defaultValue:"general",className:"w-full",children:[(0,n.jsxs)(Y,{className:"grid w-full grid-cols-4",children:[(0,n.jsxs)(T,{value:"general",className:"flex items-center gap-2",children:[(0,n.jsx)(K.A,{className:"h-4 w-4"}),s("tab.general")]}),(0,n.jsxs)(T,{value:"nonebot",className:"flex items-center gap-2",children:[(0,n.jsx)(F.A,{className:"h-4 w-4"}),s("tab.nonebot")]}),(0,n.jsxs)(T,{value:"api",className:"flex items-center gap-2",children:[(0,n.jsx)(V.A,{className:"h-4 w-4"}),s("tab.api")]}),(0,n.jsxs)(T,{value:"subs",className:"flex items-center gap-2",children:[(0,n.jsx)(J.A,{className:"h-4 w-4"}),s("tab.subs")]})]}),(0,n.jsx)(D,{value:"general",className:"space-y-6",children:(0,n.jsxs)(o,{children:[(0,n.jsxs)(l,{children:[(0,n.jsx)(d,{children:s("config.analyze.title")}),(0,n.jsx)(u,{children:s("config.analyze.desc")})]}),(0,n.jsxs)(g,{className:"space-y-4",children:[(0,n.jsx)(X,{fieldKey:"analyze.video",label:s("config.analyze.video"),description:s("config.analyze.video.desc"),children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("div",{}),(0,n.jsx)(A,{id:"analyze-video",checked:t.analyze.video,onCheckedChange:e=>b(["analyze","video"],e)})]})}),(0,n.jsx)(X,{fieldKey:"analyze.dynamic",label:s("config.analyze.dynamic"),description:s("config.analyze.dynamic.desc"),children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("div",{}),(0,n.jsx)(A,{id:"analyze-dynamic",checked:t.analyze.dynamic,onCheckedChange:e=>b(["analyze","dynamic"],e)})]})}),(0,n.jsx)(X,{fieldKey:"analyze.column",label:s("config.analyze.column"),description:s("config.analyze.column.desc"),children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("div",{}),(0,n.jsx)(A,{id:"analyze-column",checked:t.analyze.column,onCheckedChange:e=>b(["analyze","column"],e)})]})}),(0,n.jsx)(X,{fieldKey:"analyze.cd_time",label:s("config.analyze.cd_time"),description:s("config.analyze.cd_time.desc"),children:(0,n.jsx)(x,{id:"cd-time",type:"number",value:t.analyze.cd_time,onChange:e=>b(["analyze","cd_time"],Number.parseInt(e.target.value)),min:"0"})})]})]})}),(0,n.jsx)(D,{value:"nonebot",className:"space-y-6",children:(0,n.jsxs)(o,{children:[(0,n.jsxs)(l,{children:[(0,n.jsx)(d,{children:s("config.nonebot.title")}),(0,n.jsx)(u,{children:s("config.nonebot.desc")})]}),(0,n.jsxs)(g,{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,n.jsx)(X,{fieldKey:"nonebot.block",label:s("config.nonebot.block"),description:s("config.nonebot.block.desc"),disabled:!0,children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("div",{}),(0,n.jsx)(A,{id:"block",checked:t.nonebot.block,onCheckedChange:e=>b(["nonebot","block"],e),disabled:!0})]})}),(0,n.jsx)(X,{fieldKey:"nonebot.fallback",label:s("config.nonebot.fallback"),description:s("config.nonebot.fallback.desc"),disabled:!0,children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("div",{}),(0,n.jsx)(A,{id:"fallback",checked:t.nonebot.fallback,onCheckedChange:e=>b(["nonebot","fallback"],e),disabled:!0})]})}),(0,n.jsx)(X,{fieldKey:"nonebot.only_to_me",label:s("config.nonebot.only_to_me"),description:s("config.nonebot.only_to_me.desc"),disabled:!0,children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("div",{}),(0,n.jsx)(A,{id:"only-to-me",checked:t.nonebot.only_to_me,onCheckedChange:e=>b(["nonebot","only_to_me"],e),disabled:!0})]})}),(0,n.jsx)(X,{fieldKey:"nonebot.command_to_me",label:s("config.nonebot.command_to_me"),description:s("config.nonebot.command_to_me.desc"),disabled:!0,children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("div",{}),(0,n.jsx)(A,{id:"command-to-me",checked:t.nonebot.command_to_me,onCheckedChange:e=>b(["nonebot","command_to_me"],e),disabled:!0})]})})]}),(0,n.jsx)(X,{fieldKey:"nonebot.cmd_start",label:s("config.nonebot.cmd_start"),description:s("config.nonebot.cmd_start.desc"),disabled:!0,children:(0,n.jsx)(x,{id:"cmd-start",value:t.nonebot.cmd_start,onChange:e=>b(["nonebot","cmd_start"],e.target.value),disabled:!0,className:"bg-gray-50 dark:bg-gray-800"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)(_,{children:s("config.nonebot.cmd_aliases")}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(_,{className:"text-sm",children:s("config.nonebot.cmd_add_sub_label")}),(0,n.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:t.nonebot.cmd_add_sub.map((e,i)=>(0,n.jsx)(M,{variant:"secondary",children:e},i))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(_,{className:"text-sm",children:s("config.nonebot.cmd_remove_sub_label")}),(0,n.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:t.nonebot.cmd_remove_sub.map((e,i)=>(0,n.jsx)(M,{variant:"secondary",children:e},i))})]})]})]})]})]})}),(0,n.jsxs)(D,{value:"api",className:"space-y-6",children:[(0,n.jsxs)(o,{children:[(0,n.jsxs)(l,{children:[(0,n.jsx)(d,{children:s("config.api.title")}),(0,n.jsx)(u,{children:s("config.api.desc")})]}),(0,n.jsxs)(g,{className:"space-y-4",children:[(0,n.jsx)(X,{fieldKey:"api.browser_shot_quality",label:s("config.api.browser_shot_quality"),description:s("config.api.browser_shot_quality.desc"),children:(0,n.jsx)(x,{id:"browser-quality",type:"number",min:"10",max:"100",value:t.api.browser_shot_quality,onChange:e=>b(["api","browser_shot_quality"],Number.parseInt(e.target.value))})}),(0,n.jsx)(X,{fieldKey:"api.api_health_check_interval",label:s("config.api.api_health_check_interval"),description:s("config.api.api_health_check_interval.desc"),children:(0,n.jsx)(x,{id:"health-check",type:"number",min:"15",value:t.api.api_health_check_interval,onChange:e=>b(["api","api_health_check_interval"],Number.parseInt(e.target.value))})})]})]}),(0,n.jsxs)(o,{children:[(0,n.jsx)(l,{children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(d,{children:s("config.api.request_api.title")}),(0,n.jsx)(u,{children:s("config.api.request_api.desc")})]}),(0,n.jsxs)(f,{onClick:()=>{t&&b(["api","request_api"],[...t.api.request_api,{api:"",token:"",weight:1,enable:!0,note:""}])},size:"sm",className:"flex items-center gap-2",children:[(0,n.jsx)(W.A,{className:"h-4 w-4"}),s("ui.add_endpoint")]})]})}),(0,n.jsx)(g,{children:0===t.api.request_api.length?(0,n.jsx)("p",{className:"text-gray-500 text-center py-4",children:s("ui.no_endpoints")}):(0,n.jsx)("div",{className:"space-y-4",children:t.api.request_api.map((e,i)=>(0,n.jsxs)("div",{className:"border rounded-lg p-4 space-y-3",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)(_,{className:"font-medium",children:[s("ui.endpoint_number"),i+1]}),(0,n.jsx)(f,{variant:"ghost",size:"sm",onClick:()=>p(i),className:"text-red-600 hover:text-red-700",children:(0,n.jsx)(q.A,{className:"h-4 w-4"})})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,n.jsx)(X,{fieldKey:"api.request_api[".concat(i,"].api"),label:s("config.api.request_api.api"),description:s("config.api.request_api.api.desc"),children:(0,n.jsx)(x,{id:"api-".concat(i),value:e.api,onChange:e=>v(i,"api",e.target.value),placeholder:"https://api.example.com"})}),(0,n.jsx)(X,{fieldKey:"api.request_api[".concat(i,"].token"),label:s("config.api.request_api.token"),description:s("config.api.request_api.token.desc"),children:(0,n.jsx)(x,{id:"token-".concat(i),type:"password",value:e.token,onChange:e=>v(i,"token",e.target.value),placeholder:s("ui.leave_empty_if_not_required")})}),(0,n.jsx)(X,{fieldKey:"api.request_api[".concat(i,"].weight"),label:s("config.api.request_api.weight"),description:s("config.api.request_api.weight.desc"),children:(0,n.jsx)(x,{id:"weight-".concat(i),type:"number",min:"1",value:e.weight,onChange:e=>v(i,"weight",Number.parseInt(e.target.value))})}),(0,n.jsx)(X,{fieldKey:"api.request_api[".concat(i,"].enable"),label:s("config.api.request_api.enable"),description:s("config.api.request_api.enable.desc"),children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("div",{}),(0,n.jsx)(A,{id:"enable-".concat(i),checked:e.enable,onCheckedChange:e=>v(i,"enable",e)})]})})]}),(0,n.jsx)(X,{fieldKey:"api.request_api[".concat(i,"].note"),label:s("config.api.request_api.note"),description:s("config.api.request_api.note.desc"),children:(0,n.jsx)(O,{id:"note-".concat(i),value:e.note,onChange:e=>v(i,"note",e.target.value),placeholder:s("ui.optional_description_or_note"),rows:2})})]},i))})})]})]}),(0,n.jsx)(D,{value:"subs",className:"space-y-6",children:(0,n.jsxs)(o,{children:[(0,n.jsxs)(l,{children:[(0,n.jsx)(d,{children:s("config.subs.title")}),(0,n.jsx)(u,{children:s("config.subs.desc")})]}),(0,n.jsxs)(g,{className:"space-y-4",children:[(0,n.jsx)(X,{fieldKey:"subs.dynamic_interval",label:s("config.subs.dynamic_interval"),description:s("config.subs.dynamic_interval.desc"),children:(0,n.jsx)(x,{id:"dynamic-interval",type:"number",min:"15",value:t.subs.dynamic_interval,onChange:e=>b(["subs","dynamic_interval"],Number.parseInt(e.target.value))})}),(0,n.jsx)(X,{fieldKey:"subs.live_interval",label:s("config.subs.live_interval"),description:s("config.subs.live_interval.desc"),children:(0,n.jsx)(x,{id:"live-interval",type:"number",min:"10",value:t.subs.live_interval,onChange:e=>b(["subs","live_interval"],Number.parseInt(e.target.value))})}),(0,n.jsx)(X,{fieldKey:"subs.push_delay",label:s("config.subs.push_delay"),description:s("config.subs.push_delay.desc"),children:(0,n.jsx)(x,{id:"push-delay",type:"number",min:"0",value:t.subs.push_delay,onChange:e=>b(["subs","push_delay"],Number.parseInt(e.target.value))})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"mb-4",children:(0,n.jsx)(_,{children:s("config.subs.users")})}),(0,n.jsx)("div",{className:"space-y-4",children:0===Object.keys(t.subs.users).length?(0,n.jsxs)("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[(0,n.jsx)(H.A,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,n.jsx)("p",{className:"text-sm",children:s("ui.no_users")})]}):Object.keys(t.subs.users).map(e=>(0,n.jsx)(ed,{userId:e,userConfig:t.subs.users[e],onConfigChange:i=>{let s={...t.subs.users};s[e]=i,b(["subs","users"],s)},onDeleteUser:e=>{let i={...t.subs.users};delete i[e],b(["subs","users"],i)}},e))})]})]})]})})]})]}):(0,n.jsx)(o,{children:(0,n.jsx)(g,{className:"pt-6",children:(0,n.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-center",children:s("ui.no_config")})})})}function eg(){return(0,n.jsx)(Q.I18nProvider,{children:(0,n.jsx)(em,{})})}function em(){let{t:e,language:i,setLanguage:s}=(0,Q.s)(),{isAuthenticated:t,isLoading:r,logout:c,setIsAuthenticated:m}=function(){let[e,i]=(0,a.useState)(!1),[s,n]=(0,a.useState)(!0),[t,r]=(0,a.useState)(null);return(0,a.useEffect)(()=>{(async()=>{if(!ee()){i(!1),n(!1);return}try{let e=await et();r(e),i(!0)}catch(e){console.error("Auth check failed:",e),es(),i(!1)}finally{n(!1)}})()},[]),{isAuthenticated:e,isLoading:s,user:t,logout:()=>{es(),i(!1),r(null)},setIsAuthenticated:i}}(),[b,h]=(0,a.useState)(!1),[p,I]=(0,a.useState)(""),[A,E]=(0,a.useState)(!1),[S,Y]=(0,a.useState)(""),[T,D]=(0,a.useState)(!1);(0,a.useEffect)(()=>{b?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[b]);let U=async i=>{if(i.preventDefault(),p.trim()){D(!0),Y("");try{let i=await ea(p);i.success&&i.access_token?(ei(i.access_token),m(!0)):Y(i.message||e("ui.auth.invalid_otp"))}catch(i){Y(i instanceof Error?i.message:e("ui.auth.login_failed"))}finally{D(!1)}}};return r?(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center transition-colors duration-300 ".concat(b?"dark bg-gray-900":"bg-gray-50"),children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,n.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:e("ui.loading")})]})}):t?(0,n.jsx)("div",{className:"min-h-screen transition-colors duration-300 ".concat(b?"dark bg-gray-900":"bg-gray-50"),children:(0,n.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:e("ui.title")}),(0,n.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:e("ui.subtitle")})]}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsxs)(f,{variant:"outline",onClick:()=>E(!A),className:"flex items-center gap-2 dark:text-white dark:border-gray-600",children:[(0,n.jsx)(N.A,{className:"h-4 w-4"}),e("ui.source"),A?(0,n.jsx)(k.A,{className:"h-4 w-4"}):(0,n.jsx)(C.A,{className:"h-4 w-4"})]}),(0,n.jsx)(f,{variant:"outline",size:"icon",onClick:()=>s("zh"===i?"en":"zh"),className:"rounded-full border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700",title:e("ui.language"),children:(0,n.jsx)(w.A,{className:"h-5 w-5 text-gray-700 dark:text-gray-300"})}),(0,n.jsx)(f,{variant:"outline",size:"icon",onClick:()=>h(!b),className:"rounded-full border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700",children:b?(0,n.jsx)(v.A,{className:"h-5 w-5 text-gray-700 dark:text-gray-300"}):(0,n.jsx)(y.A,{className:"h-5 w-5 text-gray-700 dark:text-gray-300"})}),(0,n.jsx)(f,{variant:"outline",size:"icon",onClick:c,className:"rounded-full border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700 bg-transparent",title:e("ui.logout"),children:(0,n.jsx)(P.A,{className:"h-5 w-5 text-gray-700 dark:text-gray-300"})})]})]}),(0,n.jsx)(eu,{showSourceCode:A})]})}):(0,n.jsx)("div",{className:"min-h-screen transition-colors duration-300 ".concat(b?"dark bg-gray-900":"bg-gray-50"),children:(0,n.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,n.jsx)("div",{className:"flex justify-end mb-8",children:(0,n.jsx)(f,{variant:"outline",size:"icon",onClick:()=>h(!b),className:"rounded-full border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700",children:b?(0,n.jsx)(v.A,{className:"h-5 w-5 text-gray-700 dark:text-gray-300"}):(0,n.jsx)(y.A,{className:"h-5 w-5 text-gray-700 dark:text-gray-300"})})}),(0,n.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,n.jsxs)(o,{className:"w-full max-w-md",children:[(0,n.jsxs)(l,{className:"text-center",children:[(0,n.jsx)("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-blue-100 dark:bg-blue-900",children:(0,n.jsx)(j.A,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),(0,n.jsx)(d,{children:e("ui.auth.title")}),(0,n.jsx)(u,{children:e("ui.auth.description")})]}),(0,n.jsx)(g,{children:(0,n.jsxs)("form",{onSubmit:U,className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(_,{htmlFor:"otp",children:e("ui.auth.enter_otp")}),(0,n.jsx)(x,{id:"otp",type:"text",value:p,onChange:e=>I(e.target.value),placeholder:e("ui.auth.otp_placeholder"),className:"text-center text-lg font-mono",disabled:T})]}),S&&(0,n.jsx)("div",{className:"text-sm text-red-600 dark:text-red-400 text-center",children:S}),(0,n.jsx)(f,{type:"submit",className:"w-full",disabled:T,children:T?e("ui.auth.logging_in"):e("ui.auth.authenticate")})]})})]})})]})})}},3136:(e,i,s)=>{"use strict";s.d(i,{I18nProvider:()=>c,s:()=>o});var n=s(5155),a=s(2115);let t=(0,a.createContext)(void 0),r={zh:{"ui.title":"BiliChat 配置管理","ui.subtitle":"管理您的项目配置设置","ui.auth.title":"身份验证","ui.auth.description":"输入 OTP 以访问配置面板","ui.auth.generated_otp":"生成的 OTP：","ui.auth.enter_otp":"输入 OTP","ui.auth.otp_placeholder":"输入 6 位数字 OTP","ui.auth.authenticate":"验证","ui.auth.invalid_otp":"无效的 OTP，请重试。","ui.source":"源码","ui.source_title":"配置源码","ui.source_description":"当前配置文件内容","ui.save_changes":"保存更改","ui.save_success":"配置保存成功！","ui.add_endpoint":"添加端点","ui.endpoint_number":"端点 #","ui.no_endpoints":"未配置 API 端点","ui.no_users":"暂无用户订阅","ui.readonly_field":"此字段为只读","ui.language":"语言","ui.leave_empty_to_disable_auth":"留空以禁用身份验证","ui.leave_empty_if_not_required":"如不需要请留空","ui.optional_description_or_note":"可选描述或备注","ui.loading":"加载中...","ui.loading_config":"加载配置中...","ui.no_config":"无法加载配置","ui.logout":"登出","ui.auth.logging_in":"登录中...","ui.auth.login_failed":"登录失败","ui.invalid_json_format":"无效的 JSON 格式","ui.user":"用户","ui.unknown_adapter":"未知适配器","ui.collapse_edit":"收起编辑","ui.expand_edit":"展开编辑","ui.adapter":"适配器","ui.scene":"场景","ui.subscription_count":"订阅数量","ui.raw_config_data":"原始配置数据","ui.reset":"重置","ui.enter_json_config":"请输入 JSON 格式的用户配置...","ui.json_parse_error":"JSON 解析错误","ui.json_edit_hint":"提示: 请确保 JSON 格式正确。修改后的配置将实时生效。","ui.subscriptions":"订阅","ui.add_subscription":"添加订阅","ui.no_subscriptions":"暂无订阅","ui.delete_user":"删除用户","ui.delete":"删除","ui.optional":"可选","ui.unknown_user":"未知用户","ui.push":"推送","ui.ignore":"忽略","ui.subscribe.uid":"UID","ui.subscribe.uname":"用户名","ui.subscribe.nickname":"昵称","ui.subscribe.note":"备注","ui.subscribe.live":"直播推送","ui.subscribe.live_notification":"直播通知","ui.subscribe.dynamic":"动态推送","ui.subscribe.dynamic_notification":"动态通知","ui.subscribe.dynamic_types":"动态类型配置","ui.enable_all":"全部开启","ui.disable_all":"全部关闭","ui.default":"默认","ui.expand":"展开","ui.collapse":"收起","tab.general":"通用","tab.webui":"WebUI","tab.nonebot":"NoneBot","tab.api":"API","tab.subs":"订阅","config.version":"插件版本","config.version.desc":"插件版本","config.webui.title":"WebUI 配置","config.webui.desc":"配置 Web 界面设置","config.webui.enable":"启用 WebUI","config.webui.enable.desc":"是否启用 WebUI","config.webui.api_path":"WebUI 挂载路径","config.webui.api_path.desc":"WebUI 挂载路径","config.webui.api_access_token":"WebUI Token","config.webui.api_access_token.desc":"WebUI Token","config.webui.jwt_secret_key":"JWT密钥","config.webui.jwt_secret_key.desc":"用于JWT签名的密钥, 生产环境请务必修改","config.nonebot.title":"nonebot 配置","config.nonebot.desc":"配置机器人行为和命令","config.nonebot.block":"拦截事件","config.nonebot.block.desc":"是否拦截事件(防止其他插件二次解析)","config.nonebot.fallback":"启用发送失败回退","config.nonebot.fallback.desc":"是否启用 Alconna 的发送失败回退机制","config.nonebot.enable_self":"响应自身的消息","config.nonebot.enable_self.desc":"是否允许响应自身的消息","config.nonebot.only_self":"仅响应自身的消息","config.nonebot.only_self.desc":"是否仅响应自身的消息, 开启后会覆盖全部其他规则(人机合一特供)","config.nonebot.only_to_me":"仅@机器人","config.nonebot.only_to_me.desc":"非自身消息是否需要 @机器人 或使用机器人的昵称才响应","config.nonebot.command_to_me":"命令需要@机器人","config.nonebot.command_to_me.desc":"命令是否需要@机器人或使用机器人的昵称才响应","config.nonebot.cmd_start":"命令的起始词","config.nonebot.cmd_start.desc":"命令的起始词, 可设置为空","config.nonebot.cmd_aliases":"命令别名","config.nonebot.cmd_add_sub":"订阅命令","config.nonebot.cmd_remove_sub":"退订命令","config.nonebot.cmd_add_sub_label":"订阅命令","config.nonebot.cmd_remove_sub_label":"退订命令","config.api.title":"API 配置","config.api.desc":"配置 API 端点和设置","config.api.browser_shot_quality":"浏览器截图质量","config.api.browser_shot_quality.desc":"浏览器截图质量, 范围为 10-100","config.api.api_health_check_interval":"API 健康检查间隔","config.api.api_health_check_interval.desc":"API 健康检查间隔, 单位为秒","config.api.request_api.title":"API 请求列表","config.api.request_api.desc":"配置 bilichat-request API 端点","config.api.request_api.api":"API 地址","config.api.request_api.token":"API Token","config.api.request_api.weight":"权重","config.api.request_api.enable":"是否启用","config.api.request_api.note":"备注","config.api.request_api.api.desc":"API 地址","config.api.request_api.token.desc":"API Token, 服务端未设置则留空","config.api.request_api.weight.desc":"权重, 用于负载均衡, 越大越优先","config.api.request_api.enable.desc":"是否启用","config.api.request_api.note.desc":"备注","config.analyze.title":"内容解析配置","config.analyze.desc":"配置要解析的内容类型","config.analyze.video":"解析视频","config.analyze.video.desc":"是否解析视频","config.analyze.dynamic":"解析动态","config.analyze.dynamic.desc":"是否解析动态","config.analyze.column":"解析专栏","config.analyze.column.desc":"是否解析专栏","config.analyze.cd_time":"响应冷却时间","config.analyze.cd_time.desc":"对同一视频的响应冷却时间(防止刷屏)","config.subs.title":"订阅配置","config.subs.desc":"配置轮询间隔和推送设置","config.subs.dynamic_interval":"动态轮询间隔","config.subs.dynamic_interval.desc":"动态轮询间隔, 单位为秒","config.subs.live_interval":"直播轮询间隔","config.subs.live_interval.desc":"直播轮询间隔, 单位为秒","config.subs.push_delay":"推送延迟","config.subs.push_delay.desc":"每条推送的延迟, 单位为秒","config.subs.users":"已添加订阅的用户"},en:{"ui.title":"BiliChat Configuration","ui.subtitle":"Manage your project configuration settings","ui.auth.title":"Authentication Required","ui.auth.description":"Enter the OTP to access the configuration panel","ui.auth.generated_otp":"Generated OTP:","ui.auth.enter_otp":"Enter OTP","ui.auth.otp_placeholder":"Enter 6-digit OTP","ui.auth.authenticate":"Authenticate","ui.auth.invalid_otp":"Invalid OTP. Please try again.","ui.source":"Source","ui.source_title":"Configuration Source","ui.source_description":"Current configuration file content","ui.save_changes":"Save Changes","ui.save_success":"Configuration saved successfully!","ui.add_endpoint":"Add Endpoint","ui.endpoint_number":"Endpoint #","ui.no_endpoints":"No API endpoints configured","ui.no_users":"No users subscribed yet","ui.readonly_field":"This field is read-only","ui.language":"Language","ui.leave_empty_to_disable_auth":"Leave empty to disable authentication","ui.leave_empty_if_not_required":"Leave empty if not required","ui.optional_description_or_note":"Optional description or note","ui.loading":"Loading...","ui.loading_config":"Loading configuration...","ui.no_config":"Unable to load configuration","ui.logout":"Logout","ui.auth.logging_in":"Logging in...","ui.auth.login_failed":"Login failed","ui.invalid_json_format":"Invalid JSON format","ui.user":"User","ui.unknown_adapter":"Unknown Adapter","ui.collapse_edit":"Collapse Edit","ui.expand_edit":"Expand Edit","ui.adapter":"Adapter","ui.scene":"Scene","ui.subscription_count":"Subscription Count","ui.raw_config_data":"Raw Config Data","ui.reset":"Reset","ui.enter_json_config":"Please enter JSON format user config...","ui.json_parse_error":"JSON Parse Error","ui.json_edit_hint":"Tip: Please ensure JSON format is correct. Changes will take effect immediately.","ui.subscriptions":"Subscriptions","ui.add_subscription":"Add Subscription","ui.no_subscriptions":"No subscriptions","ui.delete_user":"Delete User","ui.delete":"Delete","ui.optional":"Optional","ui.unknown_user":"Unknown User","ui.push":"Push","ui.ignore":"Ignore","ui.subscribe.uid":"UID","ui.subscribe.uname":"Username","ui.subscribe.nickname":"Nickname","ui.subscribe.note":"Note","ui.subscribe.live":"Live Push","ui.subscribe.live_notification":"Live Notification","ui.subscribe.dynamic":"Dynamic Push","ui.subscribe.dynamic_notification":"Dynamic Notification","ui.subscribe.dynamic_types":"Dynamic Type Config","ui.enable_all":"Enable All","ui.disable_all":"Disable All","ui.default":"Default","ui.expand":"Expand","ui.collapse":"Collapse","tab.general":"General","tab.webui":"WebUI","tab.nonebot":"NoneBot","tab.api":"API","tab.subs":"Subscriptions","config.version":"Plugin Version","config.version.desc":"Plugin version","config.webui.title":"WebUI Configuration","config.webui.desc":"Configure the web interface settings","config.webui.enable":"Enable WebUI","config.webui.enable.desc":"Whether to enable WebUI","config.webui.api_path":"WebUI Mount Path","config.webui.api_path.desc":"WebUI mount path","config.webui.api_access_token":"WebUI Token","config.webui.api_access_token.desc":"WebUI Token","config.webui.jwt_secret_key":"JWT Secret Key","config.webui.jwt_secret_key.desc":"Secret key for JWT signing, must be changed in production","config.nonebot.title":"NoneBot Configuration","config.nonebot.desc":"Configure bot behavior and commands","config.nonebot.block":"Block Events","config.nonebot.block.desc":"Whether to block events (prevent other plugins from processing)","config.nonebot.fallback":"Enable Fallback","config.nonebot.fallback.desc":"Whether to enable Alconna fallback mechanism","config.nonebot.enable_self":"Respond to Self","config.nonebot.enable_self.desc":"Whether to respond to self messages","config.nonebot.only_self":"Only Self Messages","config.nonebot.only_self.desc":"Only respond to self messages, overrides all other rules","config.nonebot.only_to_me":"Only @ Bot","config.nonebot.only_to_me.desc":"Require @ bot or nickname to respond","config.nonebot.command_to_me":"Commands Need @","config.nonebot.command_to_me.desc":"Commands require @ bot or nickname","config.nonebot.cmd_start":"Command Start Word","config.nonebot.cmd_start.desc":"Command start word, can be empty","config.nonebot.cmd_aliases":"Command Aliases","config.nonebot.cmd_add_sub":"Subscribe Commands","config.nonebot.cmd_remove_sub":"Unsubscribe Commands","config.nonebot.cmd_add_sub_label":"Subscribe Commands","config.nonebot.cmd_remove_sub_label":"Unsubscribe Commands","config.api.title":"API Configuration","config.api.desc":"Configure API endpoints and settings","config.api.browser_shot_quality":"Browser Screenshot Quality","config.api.browser_shot_quality.desc":"Browser screenshot quality, range 10-100","config.api.api_health_check_interval":"API Health Check Interval","config.api.api_health_check_interval.desc":"API health check interval in seconds","config.api.request_api.title":"Request API List","config.api.request_api.desc":"Configure bilichat-request API endpoints","config.api.request_api.api":"API URL","config.api.request_api.token":"API Token","config.api.request_api.weight":"Weight","config.api.request_api.enable":"Enable","config.api.request_api.note":"Note","config.api.request_api.api.desc":"API URL","config.api.request_api.token.desc":"API Token, leave empty if server doesn't require","config.api.request_api.weight.desc":"Weight for load balancing, higher values have priority","config.api.request_api.enable.desc":"Whether to enable this endpoint","config.api.request_api.note.desc":"Optional note or description","config.analyze.title":"Content Analysis Configuration","config.analyze.desc":"Configure what content types to analyze","config.analyze.video":"Analyze Videos","config.analyze.video.desc":"Whether to analyze videos","config.analyze.dynamic":"Analyze Dynamics","config.analyze.dynamic.desc":"Whether to analyze dynamics","config.analyze.column":"Analyze Columns","config.analyze.column.desc":"Whether to analyze columns","config.analyze.cd_time":"Response Cooldown Time","config.analyze.cd_time.desc":"Response cooldown time for same video (prevent spam)","config.subs.title":"Subscription Configuration","config.subs.desc":"Configure polling intervals and push settings","config.subs.dynamic_interval":"Dynamic Polling Interval","config.subs.dynamic_interval.desc":"Dynamic polling interval in seconds","config.subs.live_interval":"Live Polling Interval","config.subs.live_interval.desc":"Live polling interval in seconds","config.subs.push_delay":"Push Delay","config.subs.push_delay.desc":"Delay between each push in seconds","config.subs.users":"Subscribed Users"}};function c(e){let{children:i}=e,[s,c]=(0,a.useState)("zh");return(0,n.jsx)(t.Provider,{value:{language:s,setLanguage:c,t:(e,i)=>r[s][e]||i||e},children:i})}function o(){let e=(0,a.useContext)(t);if(void 0===e)throw Error("useI18n must be used within an I18nProvider");return e}},7769:(e,i,s)=>{Promise.resolve().then(s.bind(s,389))}},e=>{var i=i=>e(e.s=i);e.O(0,[824,441,684,358],()=>i(7769)),_N_E=e.O()}]);